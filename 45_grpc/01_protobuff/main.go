package main

import (
	"fmt"
	"log"
	"os"

	"github.com/golang/protobuf/proto"

	"github.com/dimzrio/grpc-courses/01_protobuff/model"
)

func main() {
	fmt.Println("*** Basic Protobuffer ***")

	person1 := &model.Family{
		Id:     1,
		Name:   "Dimas Rio",
		Gender: "Male",
		Age:    28,
		Status: "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",
		Job: &model.JobDesc{
			Possition: "AppEng",
			Company:   "Detikcom",
		},
	}

	// Encode
	bufferData, err := proto.Marshal(person1)

	if err != nil {
		log.Fatal(err)
		os.Exit(1)
	}

	fmt.Println("BufferData: ", bufferData)

	// Decode
	data := &model.Family{}
	err = proto.Unmarshal(bufferData, data)

	if err != nil {
		log.Fatal(err)
		os.Exit(1)
	}

	fmt.Println("Name:", data.GetName())
	fmt.Println("Gender:", data.GetGender())
	fmt.Println("Age:", data.GetAge())
	fmt.Println("Status:", data.GetStatus())
	fmt.Println("Company:", data.GetJob().Company)
	fmt.Println("Possition:", data.GetJob().Possition)

}
